{"ast":null,"code":"var _jsxFileName = \"/Users/shalks/Documents/dev/alphafx-csv-upload/src/utils/AddFile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { Importer, ImporterField } from 'react-csv-importer';\nimport 'react-csv-importer/dist/index.css';\nimport { Container, Button } from 'reactstrap';\nimport { addPeopleFromFile } from '../../API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddFile = () => {\n  _s();\n  const [addItems, setAddMarker] = useState < [] > [];\n  const router = useRouter();\n  const onReturn = () => {\n    router.push('/people/tablepeople');\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      margin: '100px auto auto auto',\n      width: '60%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add File page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Importer, {\n      assumeNoHeaders: false // optional, keeps \"data has headers\" checkbox off by default\n      ,\n      restartable: true // optional, lets user choose to upload another file when import is complete\n      ,\n      onStart: _ref => {\n        let {\n          file,\n          preview,\n          fields,\n          columnFields\n        } = _ref;\n      },\n      processChunk: async (rows, _ref2) => {\n        let {\n          startIndex\n        } = _ref2;\n        let row;\n        let mark;\n        for (row of rows) {\n          mark = row;\n          setAddMarker(addItems => [...addItems, mark]);\n        }\n        console.log(\"added data: \", addItems);\n      },\n      onComplete: _ref3 => {\n        let {\n          file,\n          preview,\n          fields,\n          columnFields\n        } = _ref3;\n        console.log(\"addedfef data: \", addItems);\n      },\n      onClose: _ref4 => {\n        let {\n          file,\n          preview,\n          fields,\n          columnFields\n        } = _ref4;\n        console.log(\"added close data: \", addItems);\n        if (addItems) {\n          addPeopleFromFile(addItems).then(data => {\n            setAddMarker([]);\n            console.log(data);\n          }).catch(err => console.log(err));\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"first_name\",\n        label: \" First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"last_name\",\n        label: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"address\",\n        label: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"city\",\n        label: \"City\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"address\",\n        label: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"province\",\n        label: \"Province\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"postal_code\",\n        label: \"Postal Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"rank\",\n        label: \"Rank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImporterField, {\n        name: \"person_id\",\n        label: \"Person Id\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      outline: true,\n      onClick: () => onReturn(),\n      style: {\n        margin: '10px'\n      },\n      children: \"Return\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_s(AddFile, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n_c = AddFile;\nexport default AddFile;\nvar _c;\n$RefreshReg$(_c, \"AddFile\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useRouter","Importer","ImporterField","Container","Button","addPeopleFromFile","AddFile","addItems","setAddMarker","router","onReturn","push","margin","width","file","preview","fields","columnFields","rows","startIndex","row","mark","console","log","then","data","catch","err"],"sources":["/Users/shalks/Documents/dev/alphafx-csv-upload/src/utils/AddFile.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useRouter } from 'next/router'\nimport { Importer, ImporterField } from 'react-csv-importer';\nimport 'react-csv-importer/dist/index.css';\nimport {\n  Container,\n  Button\n} from 'reactstrap'\nimport { addPeopleFromFile } from '../../API'\n\nconst AddFile = () => {\n  const [addItems, setAddMarker] = useState<[]>([])\n  const router = useRouter()\n\n  const onReturn = () => {\n    router.push('/people/tablepeople')\n  }\n  return (\n    <Container style={{ margin: '100px auto auto auto', width: '60%' }}>\n      <h1>Add File page</h1>\n      <Importer\n        assumeNoHeaders={false} // optional, keeps \"data has headers\" checkbox off by default\n        restartable={true} // optional, lets user choose to upload another file when import is complete\n        onStart={({ file, preview, fields, columnFields }) => {\n        }}\n        processChunk={async (rows, { startIndex }) => {\n          let row;\n          let mark: People;\n          for (row of rows) {\n            mark = row\n            setAddMarker(addItems => [...addItems, mark])\n          }\n          console.log(\"added data: \", addItems)\n        }}\n        onComplete={({ file, preview, fields, columnFields }) => {\n          console.log(\"addedfef data: \", addItems)\n        }}\n        onClose={({ file, preview, fields, columnFields }) => {\n          console.log(\"added close data: \", addItems)\n          if(addItems) {\n            addPeopleFromFile(addItems)\n              .then( data => {\n                setAddMarker([])\n                console.log(data)\n              })\n              .catch(err => console.log(err))\n          }\n        }}\n      >\n         <ImporterField name=\"first_name\" label=\" First Name\" />\n         <ImporterField name=\"last_name\" label=\"Last Name\" />\n        <ImporterField name=\"address\" label=\"Address\" />\n        <ImporterField name=\"city\" label=\"City\" />\n         <ImporterField name=\"address\" label=\"Address\" />\n        <ImporterField name=\"province\" label=\"Province\" />\n        <ImporterField name=\"postal_code\" label=\"Postal Code\" />\n        <ImporterField name=\"rank\" label=\"Rank\" />\n        <ImporterField name=\"person_id\" label=\"Person Id\" />\n\n     \n      </Importer>\n      \n      <Button\n        color=\"primary\"\n        outline\n        onClick={() => onReturn()}\n        style={{margin: '10px'}}\n      >\n        Return\n      </Button>\n    </Container>\n  )\n}\n\nexport default AddFile;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}